<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-br">

<head th:replace="fragments/header :: header"></head>
<body>

<div th:replace="fragments/menu :: menu"></div>

<div class="container mt-4">

    <h2 class="fw-bold mb-3">
        <i class="bi bi-box"></i> Detalhes da Doação
    </h2>

    <div class="card shadow-sm p-4">

        <p>
            <strong>ID da Doação:</strong>
            <span th:text="${doacao.idDoacao}"></span>
        </p>

        <p>
            <strong>Instituição:</strong>
            <span th:text="${doacao.instituicaoNome}"></span>
        </p>

        <p>
            <strong>Status:</strong>
            <span class="badge"
                  th:classappend="${doacao.status == 'ABERTA'    ? 'bg-warning text-dark' :
                                  (doacao.status == 'AGENDADA'  ? 'bg-info text-dark'    :
                                  (doacao.status == 'CONCLUIDA' ? 'bg-success'           :
                                  (doacao.status == 'CANCELADA' ? 'bg-danger'            :
                                                                 'bg-secondary')))}"
                  th:text="${doacao.status}">
            </span>
        </p>

        <p>
            <strong>Data Solicitação:</strong>
            <span th:text="${#temporals.format(doacao.dtSolicitacao, 'dd/MM/yyyy HH:mm')}"></span>
        </p>

        <p th:if="${doacao.dtConfirmacao != null}">
            <strong>Data Confirmação:</strong>
            <span th:text="${#temporals.format(doacao.dtConfirmacao, 'dd/MM/yyyy HH:mm')}"></span>
        </p>

        <hr>

        <h5 class="fw-bold">Item doado</h5>
        <p>
            <strong>Descrição:</strong>
            <span th:text="${doacao.itemDescricao}"></span>
        </p>

        <hr>

        <div th:if="${doacao.impacto != null}">
            <h5 class="fw-bold">Impacto</h5>

            <p>
                <strong>Pontuação:</strong>
                <span th:text="${doacao.impacto.pontuacao}"></span>
            </p>

            <p>
                <strong>Observação:</strong>
                <span th:text="${doacao.impacto.observacao}"></span>
            </p>
        </div>

        <a th:href="@{/doacoes}" class="btn btn-secondary mt-3">
            <i class="bi bi-arrow-left"></i> Voltar
        </a>

    </div>
</div>

<div th:replace="fragments/footer :: footer"></div>

</body>
</html>
