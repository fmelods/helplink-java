<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-br">

<head th:replace="fragments/header :: header"></head>

<body>

<div th:replace="fragments/menu :: menu"></div>

<div class="container mt-4">

    <h2 class="fw-bold mb-4 d-flex align-items-center">
        <i class="bi bi-plus-circle me-2"></i>
        Nova Doação
    </h2>

    <div class="card shadow-sm p-4">

        <div th:if="${erro}" class="alert alert-danger text-center fw-bold mb-4">
            <i class="bi bi-exclamation-triangle"></i>
            <span th:text="${erro}"></span>
        </div>

        <form method="post"
              th:action="@{/doacoes/salvar}"
              th:object="${form}">

            <!-- Instituição -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Instituição</label>
                <select class="form-select form-select-lg"
                        th:field="*{idInstituicao}"
                        required>

                    <option value="">Selecione uma instituição...</option>

                    <option th:each="inst : ${instituicoes}"
                            th:value="${inst.idInstituicao}"
                            th:text="${inst.nome}">
                    </option>
                </select>
            </div>

            <!-- Item -->
            <div class="mb-3">
                <label class="form-label fw-semibold">Item para Doação</label>

                <textarea class="form-control form-control-lg"
                          style="height: 110px;"
                          placeholder="Ex: roupas, brinquedos, alimentos..."
                          th:field="*{itemDescricao}"
                          maxlength="200"
                          required></textarea>

                <div class="form-text">
                    Descreva claramente o item que você deseja doar.
                </div>
            </div>

            <!-- Botões lado a lado -->
            <div class="d-flex gap-2 mt-4">

                <!-- Botão Voltar -->
                <a class="btn btn-secondary w-50 d-flex align-items-center justify-content-center gap-1"
                   th:href="@{/doacoes}">
                    <i class="bi bi-arrow-left"></i>
                    Voltar
                </a>

                <!-- Botão Salvar -->
                <button type="submit"
                        class="btn hl-btn w-50 d-flex align-items-center justify-content-center gap-2">
                    Salvar
                    <i class="bi bi-check-lg"></i>
                </button>

            </div>

        </form>

    </div>

</div>

<div th:replace="fragments/footer :: footer"></div>

</body>
</html>
